<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.plumelog.server.mapper.PlumeLogMapper">


    <select id="countChart" resultType="java.util.Map">
        SELECT
            DATE_FORMAT(dateTime, '%Y-%m-%d %H:00:00.000') AS hourStr,
            COUNT(*) AS total
        FROM
            plume_log_duplicate
                ${ew.customSqlSegment}
        GROUP BY
            hourStr
        ORDER BY
            hourStr desc
    </select>
    <select id="getAppNames" resultType="java.lang.String">
        SELECT
            DISTINCT appName
        FROM
            plume_log_duplicate
    </select>
</mapper>
